{"ast":null,"code":"import \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nvar _jsxFileName = \"C:\\\\Users\\\\Alejandro\\\\Documents\\\\GitHub\\\\CS411Team5\\\\FE\\\\src\\\\pages\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport styles from './index.less';\nimport TopBar from '@/components/TopBar';\nconst {\n  Search\n} = _Input;\n\nconst imgUrl = require('@/assets/images/img.jpg');\n\nlet count = 0; //滚动初始位置\n\nconst num = 6; //滚动幅度\n\nclass Index extends Component {\n  constructor() {\n    super();\n\n    this.onSearch = value => {\n      this.props.history.push('./result?keywords=' + value); //所有的history.push皆为跳转页面\n    };\n\n    this.scrollTo = type => {\n      let elmnt;\n\n      if (type === 'left' && count >= num) {\n        count -= num;\n      } else if (type === 'right' && count < this.state.recommands.length - num) {\n        count += num;\n      }\n\n      elmnt = document.getElementById(count);\n      elmnt.scrollIntoView({\n        behavior: 'smooth',\n        inline: 'start'\n      });\n    };\n\n    this.state = {\n      recommands: [1, 21, 2, 21, 21, 2, 7, 7, 7, 7, 7, 77, 1, 21] //推荐的文件列表\n\n    };\n  }\n\n  componentDidMount() {\n    count = 0; //初始化滚动位置\n  }\n  /**\r\n   * 主页大搜索框搜索事件\r\n   * @param value string 输入的值\r\n   */\n\n\n  render() {\n    const {\n      recommands\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.wrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TopBar, {\n      isTransparent: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.contentBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }, \"A Good Paper\\xA0\\xA0\\xA0\\xA0Welcome To YISHOU\"), /*#__PURE__*/React.createElement(Search, {\n      className: styles.search,\n      size: \"large\",\n      onSearch: this.onSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    })), window.$isLogin && /*#__PURE__*/React.createElement(\"nav\", {\n      className: styles.recommands,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: require('@/assets/icons/icon_left.png'),\n      alt: \"\",\n      onClick: () => this.scrollTo('left'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.recommandList,\n      id: \"scrollContent\",\n      onClick: () => this.props.history.push('/detail/50'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, recommands && recommands.map((recommand, index) => /*#__PURE__*/React.createElement(\"div\", {\n      id: index,\n      className: styles.recommand,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: imgUrl,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, index + '/' + recommand)))), /*#__PURE__*/React.createElement(\"img\", {\n      src: require('@/assets/icons/icon_left.png'),\n      alt: \"\",\n      onClick: () => this.scrollTo('right'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/Alejandro/Documents/GitHub/CS411Team5/FE/src/pages/index.jsx"],"names":["React","Component","styles","TopBar","Search","imgUrl","require","count","num","Index","constructor","onSearch","value","props","history","push","scrollTo","type","elmnt","state","recommands","length","document","getElementById","scrollIntoView","behavior","inline","componentDidMount","render","wrapper","contentBox","title","search","window","$isLogin","recommandList","map","recommand","index"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,OAAOC,MAAP,MAAmB,qBAAnB;AAEA,MAAM;AAAEC,EAAAA;AAAF,UAAN;;AAEA,MAAMC,MAAM,GAAGC,OAAO,CAAC,yBAAD,CAAtB;;AACA,IAAIC,KAAK,GAAG,CAAZ,C,CAAe;;AACf,MAAMC,GAAG,GAAG,CAAZ,C,CAAe;;AAEf,MAAMC,KAAN,SAAoBR,SAApB,CAA8B;AAC5BS,EAAAA,WAAW,GAAG;AACZ;;AADY,SAcdC,QAdc,GAcHC,KAAK,IAAI;AAClB,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,uBAAuBH,KAA/C,EADkB,CACqC;AACxD,KAhBa;;AAAA,SAsBdI,QAtBc,GAsBHC,IAAI,IAAI;AACjB,UAAIC,KAAJ;;AACA,UAAID,IAAI,KAAK,MAAT,IAAmBV,KAAK,IAAIC,GAAhC,EAAqC;AACnCD,QAAAA,KAAK,IAAIC,GAAT;AACD,OAFD,MAEO,IAAIS,IAAI,KAAK,OAAT,IAAoBV,KAAK,GAAG,KAAKY,KAAL,CAAWC,UAAX,CAAsBC,MAAtB,GAA+Bb,GAA/D,EAAoE;AACzED,QAAAA,KAAK,IAAIC,GAAT;AACD;;AACDU,MAAAA,KAAK,GAAGI,QAAQ,CAACC,cAAT,CAAwBhB,KAAxB,CAAR;AACAW,MAAAA,KAAK,CAACM,cAAN,CAAqB;AAAEC,QAAAA,QAAQ,EAAE,QAAZ;AAAsBC,QAAAA,MAAM,EAAE;AAA9B,OAArB;AACD,KA/Ba;;AAEZ,SAAKP,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE,CAAC,CAAD,EAAI,EAAJ,EAAQ,CAAR,EAAW,EAAX,EAAe,EAAf,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,EAArC,EAAyC,CAAzC,EAA4C,EAA5C,CADD,CACkD;;AADlD,KAAb;AAGD;;AACDO,EAAAA,iBAAiB,GAAG;AAClBpB,IAAAA,KAAK,GAAG,CAAR,CADkB,CACP;AACZ;AAED;;;;;;AAuBAqB,EAAAA,MAAM,GAAG;AACP,UAAM;AAAER,MAAAA;AAAF,QAAiB,KAAKD,KAA5B;AACA,wBACE;AAAK,MAAA,SAAS,EAAEjB,MAAM,CAAC2B,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,aAAa,EAAE,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAK,MAAA,SAAS,EAAE3B,MAAM,CAAC4B,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAE5B,MAAM,CAAC6B,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDADF,eAEE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAE7B,MAAM,CAAC8B,MAA1B;AAAkC,MAAA,IAAI,EAAC,OAAvC;AAA+C,MAAA,QAAQ,EAAE,KAAKrB,QAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAFF,EAMGsB,MAAM,CAACC,QAAP,iBACC;AAAK,MAAA,SAAS,EAAEhC,MAAM,CAACkB,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,GAAG,EAAEd,OAAO,CAAC,8BAAD,CADd;AAEE,MAAA,GAAG,EAAC,EAFN;AAGE,MAAA,OAAO,EAAE,MAAM,KAAKU,QAAL,CAAc,MAAd,CAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAME;AACE,MAAA,SAAS,EAAEd,MAAM,CAACiC,aADpB;AAEE,MAAA,EAAE,EAAC,eAFL;AAGE,MAAA,OAAO,EAAE,MAAM,KAAKtB,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,CAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKGK,UAAU,IACTA,UAAU,CAACgB,GAAX,CAAe,CAACC,SAAD,EAAYC,KAAZ,kBACb;AAAK,MAAA,EAAE,EAAEA,KAAT;AAAgB,MAAA,SAAS,EAAEpC,MAAM,CAACmC,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAEhC,MAAV;AAAkB,MAAA,GAAG,EAAC,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIiC,KAAK,GAAG,GAAR,GAAcD,SAAlB,CAFF,CADF,CANJ,CANF,eAmBE;AACE,MAAA,GAAG,EAAE/B,OAAO,CAAC,8BAAD,CADd;AAEE,MAAA,GAAG,EAAC,EAFN;AAGE,MAAA,OAAO,EAAE,MAAM,KAAKU,QAAL,CAAc,OAAd,CAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBF,CAPJ,CADF;AAoCD;;AAxE2B;;AA2E9B,eAAeP,KAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport styles from './index.less';\r\nimport { Input } from 'antd';\r\nimport TopBar from '@/components/TopBar';\r\n\r\nconst { Search } = Input;\r\n\r\nconst imgUrl = require('@/assets/images/img.jpg');\r\nlet count = 0; //滚动初始位置\r\nconst num = 6; //滚动幅度\r\n\r\nclass Index extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      recommands: [1, 21, 2, 21, 21, 2, 7, 7, 7, 7, 7, 77, 1, 21], //推荐的文件列表\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    count = 0; //初始化滚动位置\r\n  }\r\n\r\n  /**\r\n   * 主页大搜索框搜索事件\r\n   * @param value string 输入的值\r\n   */\r\n  onSearch = value => {\r\n    this.props.history.push('./result?keywords=' + value); //所有的history.push皆为跳转页面\r\n  };\r\n\r\n  /**\r\n   * 推荐文章滚动\r\n   * @param type string 滚动方向 left right\r\n   */\r\n  scrollTo = type => {\r\n    let elmnt;\r\n    if (type === 'left' && count >= num) {\r\n      count -= num;\r\n    } else if (type === 'right' && count < this.state.recommands.length - num) {\r\n      count += num;\r\n    }\r\n    elmnt = document.getElementById(count);\r\n    elmnt.scrollIntoView({ behavior: 'smooth', inline: 'start' });\r\n  };\r\n\r\n  render() {\r\n    const { recommands } = this.state;\r\n    return (\r\n      <div className={styles.wrapper}>\r\n        <TopBar isTransparent={true} />\r\n        <div className={styles.contentBox}>\r\n          <div className={styles.title}>A Good Paper&nbsp;&nbsp;&nbsp;&nbsp;Welcome To YISHOU</div>\r\n          <Search className={styles.search} size=\"large\" onSearch={this.onSearch}></Search>\r\n        </div>\r\n        {window.$isLogin && (\r\n          <nav className={styles.recommands}>\r\n            <img\r\n              src={require('@/assets/icons/icon_left.png')}\r\n              alt=\"\"\r\n              onClick={() => this.scrollTo('left')}\r\n            />\r\n            <div\r\n              className={styles.recommandList}\r\n              id=\"scrollContent\"\r\n              onClick={() => this.props.history.push('/detail/50')}\r\n            >\r\n              {recommands &&\r\n                recommands.map((recommand, index) => (\r\n                  <div id={index} className={styles.recommand}>\r\n                    <img src={imgUrl} alt=\"\" />\r\n                    <p>{index + '/' + recommand}</p>\r\n                  </div>\r\n                ))}\r\n            </div>\r\n            <img\r\n              src={require('@/assets/icons/icon_left.png')}\r\n              alt=\"\"\r\n              onClick={() => this.scrollTo('right')}\r\n            />\r\n          </nav>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}